var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function r(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let $;function y(t){$=t}function k(){if(!$)throw new Error("Function called outside component initialization");return $}function x(t){k().$$.on_mount.push(t)}function _(){const t=k();return(e,n,{cancelable:o=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,o,e),l}(e,n,{cancelable:o});return l.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const S=[],L=[],P=[],j=[],E=Promise.resolve();let C=!1;function I(t){P.push(t)}const N=new Set;let T=0;function D(){const t=$;do{for(;T<S.length;){const t=S[T];T++,y(t),O(t.$$)}for(y(null),S.length=0,T=0;L.length;)L.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];N.has(e)||(N.add(e),e())}P.length=0}while(S.length);for(;j.length;)j.pop()();C=!1,N.clear(),y(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const M=new Set;let B;function z(){B={r:0,c:[],p:B}}function H(){B.r||o(B.c),B=B.p}function q(t,e){t&&t.i&&(M.delete(t),t.i(e))}function J(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),B.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function W(t){t&&t.c()}function A(t,n,i,s){const{fragment:r,on_mount:c,on_destroy:a,after_update:u}=t.$$;r&&r.m(n,i),s||I((()=>{const n=c.map(e).filter(l);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(I)}function F(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(S.push(t),C||(C=!0,E.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,l,i,s,r,c,a,d=[-1]){const f=$;y(e);const h=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||f.$$.root};a&&a(h.root);let p=!1;if(h.ctx=i?i(e,l.props||{},((t,n,...o)=>{const l=o.length?o[0]:n;return h.ctx&&r(h.ctx[t],h.ctx[t]=l)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](l),p&&R(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();l.intro&&q(e.$$.fragment),A(e,l.target,l.anchor,l.customElement),D()}y(f)}class X{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function U(e,n=t){let o;const l=new Set;function s(t){if(i(e,t)&&(e=t,o)){const t=!K.length;for(const t of l)t[1](),K.push(t,e);if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,r=t){const c=[i,r];return l.add(c),1===l.size&&(o=n(s)||t),i(e),()=>{l.delete(c),0===l.size&&(o(),o=null)}}}}function Y(t){let e="?";const n=Object.keys(t);return n&&n.forEach((n=>{e+=n+"="+t[n]+"&"})),e.slice(0,e.length-1)}const G={currentPath:U("#"),getPath:function(){let t=(window.location.href+"/").match(/\/(#.*?)[\?\/]/);return t&&t.length>1&&t[1]?t[1]:""},getFullPath:function(){let t=(window.location.href+"?").match(/\/#(.*?)\?/);return t?t[1].split("/").map((t=>decodeURI(t))):""},getParams:function(){let t={};let e=window.location.href.match(/\?(.*)/);const n=e?e[1]:"";return n?(n.split("&").forEach((e=>{const n=e.split("=");t[n[0]]=n[1]})),t):{}},goto:function(t,e=0){0==e&&(e=this.getParams());let n=Y(e);window.location.href=window.location.origin+"/#"+t+n},setParam:function(t,e){let n=this.getParams();n[t]=e;let o=Y(n),l=this.getPath();""!=l&&"/"!=l&&(window.location.href=window.location.href.replace(/\?(.*)$/,"")+o)},init:function(){let t=this;function e(){let e=t.getPath();t.currentPath.set(e)}return window.addEventListener("popstate",(()=>{e()})),""==this.getPath()?this.goto(""):e(),1}};function V(t,e,n){const o=t.slice();return o[11]=e[n],o[13]=n,o}function Z(t){let e,n,l,i,s,d,g=t[11]+"";function w(){return t[7](t[13],t[11])}return{c(){e=f("span"),n=h(g),l=p(),v(e,"id","word"),v(e,"class",i=r((lt(t[11])?"disabled ":"")+(ot(t[11])?"disabled punctuation ":"")+(t[1]==t[13]?"highlight":""))+" svelte-av4nc9")},m(o,i){a(o,e,i),c(e,n),c(e,l),s||(d=[m(e,"click",w),m(e,"mouseleave",t[5]),m(e,"mouseenter",t[4])],s=!0)},p(o,l){t=o,1&l&&g!==(g=t[11]+"")&&b(n,g),3&l&&i!==(i=r((lt(t[11])?"disabled ":"")+(ot(t[11])?"disabled punctuation ":"")+(t[1]==t[13]?"highlight":""))+" svelte-av4nc9")&&v(e,"class",i)},d(t){t&&u(e),s=!1,o(d)}}}function tt(e){let n,l,i,s,r,g,w,$,y,k,x,_,S,L,P,j,E,C,I,N,T=e[0]._id+"",D=e[0].title+"",O=e[0].content,M=[];for(let t=0;t<O.length;t+=1)M[t]=Z(V(e,O,t));return{c(){n=f("main"),l=f("div"),i=f("div");for(let t=0;t<M.length;t+=1)M[t].c();s=p(),r=f("div"),g=f("div"),w=h("ID: "),$=h(T),y=p(),k=f("div"),x=h("Från: "),_=h(D),S=p(),L=f("span"),P=h("push_pin"),E=p(),C=f("span"),C.textContent="content_copy",v(i,"id","sent"),v(i,"class","svelte-av4nc9"),v(g,"id","id"),v(k,"id","source"),v(r,"class","unimportant svelte-av4nc9"),v(L,"id","pin"),v(L,"class",j="clickable material-symbols-outlined "+(e[2]?"symbol-filled":"symbol-outlined")+" svelte-av4nc9"),v(C,"id","copy"),v(C,"class","clickable material-symbols-outlined svelte-av4nc9"),v(l,"class","sentence svelte-av4nc9"),v(n,"class","svelte-av4nc9")},m(t,o){a(t,n,o),c(n,l),c(l,i);for(let t=0;t<M.length;t+=1)M[t].m(i,null);c(l,s),c(l,r),c(r,g),c(g,w),c(g,$),c(r,y),c(r,k),c(k,x),c(k,_),c(l,S),c(l,L),c(L,P),c(l,E),c(l,C),I||(N=[m(L,"click",e[8]),m(C,"click",e[9])],I=!0)},p(t,[e]){if(59&e){let n;for(O=t[0].content,n=0;n<O.length;n+=1){const o=V(t,O,n);M[n]?M[n].p(o,e):(M[n]=Z(o),M[n].c(),M[n].m(i,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=O.length}1&e&&T!==(T=t[0]._id+"")&&b($,T),1&e&&D!==(D=t[0].title+"")&&b(_,D),4&e&&j!==(j="clickable material-symbols-outlined "+(t[2]?"symbol-filled":"symbol-outlined")+" svelte-av4nc9")&&v(L,"class",j)},i:t,o:t,d(t){t&&u(n),d(M,t),I=!1,o(N)}}}const et=/^([.,!?%*;:])$/,nt=/^([\/#$%^\[\]&"'\”\‘\’\“\-_()])$/;function ot(t){return et.test(t)}function lt(t){return nt.test(t)}function it(t,e,n){const o=_();let{sentence:l,highlight:i=-1}=e,s=!1;function r(){navigator.clipboard.writeText(l.content.join(" "))}function c(){const t=window.localStorage.getItem(l._id);n(2,s=null!=t)}G.currentPath.subscribe((()=>{setTimeout((()=>{c()}),5)})),x((()=>{c()}));return t.$$set=t=>{"sentence"in t&&n(0,l=t.sentence),"highlight"in t&&n(1,i=t.highlight)},[l,i,s,o,function(t){o("check_def",t.target)},function(t){o("check_def",0)},r,(t,e)=>o("word_click",l.lemma[t]||e),()=>{o("pin_sentence"),n(2,s^=1)},()=>{r()}]}class st extends X{constructor(t){super(),Q(this,t,it,tt,i,{sentence:0,highlight:1})}}const rt=U(-1),ct=U("");let at=["8sidor.se","läsbart","webbnyheter"],ut=U(0);function dt(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function ft(t){let e,n;return e=new st({props:{sentence:t[5],highlight:t[1][t[7]]}}),e.$on("pin_sentence",(function(){return t[4](t[7])})),e.$on("word_click",t[2]),{c(){W(e.$$.fragment)},m(t,o){A(e,t,o),n=!0},p(n,o){t=n;const l={};1&o&&(l.sentence=t[5]),2&o&&(l.highlight=t[1][t[7]]),e.$set(l)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ht(t){let e,n,o=t[0],l=[];for(let e=0;e<o.length;e+=1)l[e]=ft(dt(t,o,e));const i=t=>J(l[t],1,1,(()=>{l[t]=null}));return{c(){e=f("main");for(let t=0;t<l.length;t+=1)l[t].c();v(e,"class","svelte-iw7mku")},m(t,o){a(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);n=!0},p(t,[n]){if(15&n){let s;for(o=t[0],s=0;s<o.length;s+=1){const i=dt(t,o,s);l[s]?(l[s].p(i,n),q(l[s],1)):(l[s]=ft(i),l[s].c(),q(l[s],1),l[s].m(e,null))}for(z(),s=o.length;s<l.length;s+=1)i(s);H()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)q(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)J(l[t]);n=!1},d(t){t&&u(e),d(l,t)}}}function pt(t,e,n){let{results:o=[]}=e,{highlight:l=[]}=e;function i(t){const e=o[t];let n=window.localStorage.getItem("pinned-id");if(n){let t=n.split(",");-1!=t.indexOf(e._id)?(window.localStorage.setItem("pinned-id",t.filter((t=>t!=e._id)).join(",")),window.localStorage.removeItem(e._id)):(window.localStorage.setItem("pinned-id",n+","+e._id),window.localStorage.setItem(e._id,JSON.stringify(e)))}else window.localStorage.setItem("pinned-id",e._id),window.localStorage.setItem(e._id,JSON.stringify(e))}x((()=>{}));return t.$$set=t=>{"results"in t&&n(0,o=t.results),"highlight"in t&&n(1,l=t.highlight)},[o,l,function(t){rt.set(t.detail)},i,t=>i(t)]}class mt extends X{constructor(t){super(),Q(this,t,pt,ht,i,{results:0,highlight:1})}}function gt(t,e,n){const o=t.slice();return o[2]=e[n],o[4]=n,o}function vt(t){let e,n,o,l,i,s,d,g,b,$=t[2]+"";function y(){return t[1](t[4])}return{c(){e=f("div"),n=f("div"),o=f("div"),i=p(),s=h($),d=p(),v(o,"id","radio"),v(o,"class",l=r(t[0]==t[4]?"checked":"")+" svelte-1t01hw1"),w(n,"margin-right","7px"),v(e,"class","radio-container")},m(t,l){a(t,e,l),c(e,n),c(n,o),c(e,i),c(e,s),c(e,d),g||(b=m(o,"click",y),g=!0)},p(e,n){t=e,1&n&&l!==(l=r(t[0]==t[4]?"checked":"")+" svelte-1t01hw1")&&v(o,"class",l)},d(t){t&&u(e),g=!1,b()}}}function bt(e){let n,o=at,l=[];for(let t=0;t<o.length;t+=1)l[t]=vt(gt(e,o,t));return{c(){n=f("main");for(let t=0;t<l.length;t+=1)l[t].c()},m(t,e){a(t,n,e);for(let t=0;t<l.length;t+=1)l[t].m(n,null)},p(t,[e]){if(1&e){let i;for(o=at,i=0;i<o.length;i+=1){const s=gt(t,o,i);l[i]?l[i].p(s,e):(l[i]=vt(s),l[i].c(),l[i].m(n,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=o.length}},i:t,o:t,d(t){t&&u(n),d(l,t)}}}function wt(t,e,n){let o=-1;ut.subscribe((t=>{n(0,o=t),G.setParam("corpus",o)}));return[o,t=>{ut.set(t)}]}class $t extends X{constructor(t){super(),Q(this,t,wt,bt,i,{})}}function yt(t){let e,n,o;return n=new mt({props:{results:t[2],highlight:t[3]}}),{c(){e=f("div"),W(n.$$.fragment),v(e,"id","results"),v(e,"class","svelte-1oy1aic")},m(t,l){a(t,e,l),A(n,e,null),o=!0},p(t,e){const o={};4&e&&(o.results=t[2]),8&e&&(o.highlight=t[3]),n.$set(o)},i(t){o||(q(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&u(e),F(n)}}}function kt(e){let n;function o(t,e){return 0==t[1]?_t:1==t[1]?xt:void 0}let l=o(e),i=l&&l(e);return{c(){i&&i.c(),n=h("")},m(t,e){i&&i.m(t,e),a(t,n,e)},p(t,e){l!==(l=o(t))&&(i&&i.d(1),i=l&&l(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i&&i.d(t),t&&u(n)}}}function xt(t){let e;return{c(){e=f("div"),e.innerHTML='<img src="svg/glass.svg" width="150px" id="mag-glass" class="svelte-1oy1aic"/>',v(e,"id","glass-wrap"),v(e,"class","svelte-1oy1aic")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function _t(t){let e;return{c(){e=f("div"),e.innerHTML='<div class="svelte-1oy1aic">Inga exempel hittades</div>',v(e,"id","missing"),v(e,"class","svelte-1oy1aic")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function St(t){let e,n,l,i,s,r,d,b,$,y,k,x,_,S,L,P,j,E;x=new $t({});const C=[kt,yt],I=[];function N(t,e){return t[2].length?1:0}return S=N(t),L=I[S]=C[S](t),{c(){e=f("main"),n=f("form"),l=f("div"),i=f("div"),s=f("input"),r=p(),d=f("button"),b=h("sök"),y=p(),k=f("div"),W(x.$$.fragment),_=p(),L.c(),v(s,"id","input"),v(s,"class","svelte-1oy1aic"),v(d,"class",$=t[1]?"disabled":""),v(d,"type","submit"),w(d,"margin","0 20px 0 5px"),v(i,"id","input-wrap"),v(i,"class","svelte-1oy1aic"),v(k,"id","container"),v(k,"class","svelte-1oy1aic"),v(l,"id","form-wrap"),v(n,"id","form"),v(n,"autocomplete","off"),v(e,"class","svelte-1oy1aic")},m(o,u){a(o,e,u),c(e,n),c(n,l),c(l,i),c(i,s),t[7](s),c(i,r),c(i,d),c(d,b),c(l,y),c(l,k),A(x,k,null),c(e,_),I[S].m(e,null),P=!0,j||(E=[m(s,"input",t[5]),m(n,"submit",g(t[8]))],j=!0)},p(t,[n]){(!P||2&n&&$!==($=t[1]?"disabled":""))&&v(d,"class",$);let o=S;S=N(t),S===o?I[S].p(t,n):(z(),J(I[o],1,1,(()=>{I[o]=null})),H(),L=I[S],L?L.p(t,n):(L=I[S]=C[S](t),L.c()),q(L,1),L.m(e,null))},i(t){P||(q(x.$$.fragment,t),q(L),P=!0)},o(t){J(x.$$.fragment,t),J(L),P=!1},d(n){n&&u(e),t[7](null),F(x),I[S].d(),j=!1,o(E)}}}function Lt(t,e,n){let o,l=-1;ut.subscribe((t=>{l=t}));let i=2,s=[],r=[],c="";async function a(t){if(t.length>30)return void alert("Too long a query!");if(""==t)return;n(0,o.value=n(4,c=t.trim()),o),G.goto("search/"+c,{corpus:l}),n(1,i=1),n(2,s=[]);const e=c,a=await fetch("https://data.mongodb-api.com/app/searchapi-pcnyg/endpoint/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:e,corpus:l})}).then((t=>t.json()));if(!s.length){if(a.length){const t=c.toLowerCase();a.forEach(((e,o)=>{for(let t=0;t<e.content.length;t++)"&amp;"==e.content[t]&&(e.content[t]="&");const l=e.content.findIndex((e=>e.toLowerCase()==t));n(3,r[o]=-1!=l?l:e.lemma.findIndex((e=>e==t)),r)}))}n(2,s=a),n(1,i=0)}}ct.subscribe((t=>{""!=t&&a(t)})),x((()=>{const t=G.getFullPath();let e=t[1];e&&"search"==t[0]&&(G.getParams(),a(e))}));return[o,i,s,r,c,function(t){t.preventDefault(),n(4,c=t.target.value=t.target.value.replace(/\s/g,""))},a,function(t){L[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},()=>{1!=i&&a(c)}]}class Pt extends X{constructor(t){super(),Q(this,t,Lt,St,i,{})}}function jt(e){let n;return{c(){n=f("main"),n.innerHTML='<div id="main" class="svelte-12j5say">ab initio</div>',v(n,"class","svelte-12j5say")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}class Et extends X{constructor(t){super(),Q(this,t,null,jt,i,{})}}const Ct={loaded:0,db:{},wordList:[],synonymList:[],fetchWordList:function(){let t=localStorage.getItem("wordlist");if(!t)return void this.writeWordList();t.split("\n").forEach((t=>{this.wordList.push(t.replace("\r","").split(","))}))},fetchSynonymList:function(){let t=localStorage.getItem("hogskoleprov");if(!t)return void this.writeSynonymList();t.split("\n").forEach((t=>{let e=t.split("|");this.synonymList.push({word:e.shift(),correct:e.shift(),alternatives:e})}))},initDb:async function(){const t=indexedDB.open("Kaikki");let e=0;return t.onupgradeneeded=t=>{e=1;t.target.result.createObjectStore("dictionary",{keyPath:"word"})},await new Promise((n=>{t.onerror=t=>{console.error("IndexedDB error!")},t.onsuccess=t=>{this.db=t.target.result,this.db.onerror=t=>{console.error(`Database error: ${t.target.errorCode}`)},n(e)}}))},fetchDb:async function(t,e,n){return await new Promise((o=>{const l=t.get(e);l.onsuccess=async()=>{await n(l.result),o()}}))},writeDb:async function(t,e){return await new Promise((n=>{const o=t.put(e);o.onsuccess=()=>{n()},o.onerror=t=>{console.error(t)}}))},writeDictionary:async function(){let t="";await fetch("/kaikki.dict").then((t=>t.text())).then((e=>{t=e})).catch((t=>alert("Error downloading dictionary: "+t)));const e=this.db.transaction("dictionary","readwrite"),n=e.objectStore("dictionary");e.oncomplete=()=>{console.log("transaction closed.")};let o=0,l=[];const i={buf:["","",""],clear:function(){this.buf=["","",""],l=[]},add:function(t,e){this.buf[t]+=e},get:function(t){return this.buf[t]}};for(let e=0;e<t.length;e++){const s=t[e];if("|"==s){switch(o){case 0:break;case 1:try{l=JSON.parse(i.get(1))}catch(t){console.log(t)}}o++}else if("\n"==s){const t=i.get(0);if(""==t)continue;await this.writeDb(n,{word:t,etymology:i.get(2),def:l}),o=0,i.clear()}else i.add(o,s)}},writeWordList:async function(){return await fetch("/kaikki.list").then((t=>t.text())).then((t=>{localStorage.setItem("wordlist",t),this.fetchWordList()})).catch((t=>alert("Error downloading wordlist: "+t))),1},writeSynonymList:async function(){return await fetch("/hogskoleprov.list").then((t=>t.text())).then((t=>{localStorage.setItem("hogskoleprov",t),this.fetchSynonymList()})).catch((t=>alert("Error downloading hogskoleprov: "+t))),1},init:async function(){return await this.initDb()?(console.log("writing dict..."),await this.writeDictionary(),await this.writeWordList(),await this.writeSynonymList()):(this.fetchWordList(),this.fetchSynonymList()),1},getTypeName(t){switch(t){case"noun":return"substantiv";case"verb":return"verb";case"adj":return"adjektiv";case"intj":return"interjektion";case"conj":return"konjunktion";case"det":return"artikel";case"pron":return"pronomen";case"num":return"nummer";case"name":return"namn";case"adv":return"adverb";default:return t}},matchParts:function(t){let e=[t[0],0],n=1,o=1;for(let l=0;l<this.wordList.length;l++)for(let i=0;i<this.wordList[l].length;i++){let s=this.wordList[l][i];const r=s.length>1&&("-"==s[0]||"-"==s[s.length-1]);if(r&&(s=s.replace("-","")),s.length>t.length)continue;let c=(()=>{let e=0;for(;e<s.length;){if(s[e]!=t[e]){if(e>9)break;return 0}e++}return e})();if(c>n||c>=n&&(r||"bo"==s)){n=c,o=n,e=[this.wordList[l][i],this.wordList[l][0]];const t=s[s.length-1];i>0&&!r&&("s"==t||"t"==t)&&s.length>3&&(o=n-1,e=[this.wordList[l][0],this.wordList[l][0]]),(-1!=s.indexOf(" ")||"bo"==s||"be"==s&&r)&&(n+=1)}}return[o,e]},getQuestion:function(){return this.synonymList[Math.floor(Math.random()*this.synonymList.length)]},getCompound:function(t){if(-1!=t.indexOf(" "))return t.split(" ");let e=[],n=t;for(;n.length;){let o=this.matchParts(n);const l=o[1][0];if(n==t){if(l.length<=2)return[];if(o[0]==t.length)return[o[1][1]]}n=n.slice(o[0]),l.length>=3&&e.push(l)}return e.length>1&&"-"==e[0][0]?[]:e},lookup:function(t){const e=this.db.transaction("dictionary","readwrite").objectStore("dictionary");return new Promise((n=>{this.fetchDb(e,t,(t=>{t||n(0),n(t)}))}))}};function It(t,e,n){const o=t.slice();return o[23]=e[n],o}function Nt(t,e,n){const o=t.slice();return o[11]=e[n],o}function Tt(t,e,n){const o=t.slice();return o[14]=e[n],o}function Dt(t,e,n){const o=t.slice();return o[17]=e[n],o}function Ot(t,e,n){const o=t.slice();return o[20]=e[n],o}function Mt(e){let n;return{c(){n=f("div"),n.innerHTML='<div id="ww" class="svelte-pkclie"><div id="header" class="svelte-pkclie"><div style="display: flex;"></div> \n          <div style="flex: 1;"><button id="external" class="svelte-pkclie">Slå upp</button></div></div> \n        <div id="def-wrap" class="wrap svelte-pkclie"></div> \n        <div id="ety-wrap" class="wrap svelte-pkclie"></div> \n        <button id="ex-btn" class="svelte-pkclie">Se exempel</button></div>',v(n,"id","wrap"),v(n,"class","fake svelte-pkclie")},m(t,e){a(t,n,e)},p:t,d(t){t&&u(n)}}}function Bt(t){let e,n,o,l,i,s,r,d,g,$,y,k;function x(t,e){return 0!=t[2]?qt:t[1].length?zt:Ht}let _=x(t),S=_(t);return{c(){e=f("div"),n=f("div"),o=f("div"),l=f("div"),i=f("div"),s=h(t[0]),r=p(),d=f("div"),g=f("button"),g.textContent="Slå upp",$=p(),S.c(),v(i,"id","word"),v(i,"class","svelte-pkclie"),v(l,"id","word-wrap"),v(l,"class","svelte-pkclie"),v(g,"id","external"),v(g,"class","svelte-pkclie"),w(d,"width","130px"),v(o,"id","header"),v(o,"class","svelte-pkclie"),v(n,"id","ww"),v(n,"class","svelte-pkclie"),v(e,"id","wrap"),v(e,"class","svelte-pkclie")},m(u,f){a(u,e,f),c(e,n),c(n,o),c(o,l),c(l,i),c(i,s),c(o,r),c(o,d),c(d,g),c(n,$),S.m(n,null),y||(k=m(g,"click",t[5]),y=!0)},p(t,e){1&e&&b(s,t[0]),_===(_=x(t))&&S?S.p(t,e):(S.d(1),S=_(t),S&&(S.c(),S.m(n,null)))},d(t){t&&u(e),S.d(),y=!1,k()}}}function zt(t){let e,n,o,l,i=t[1],s=[];for(let e=0;e<i.length;e+=1)s[e]=Jt(It(t,i,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=p(),n=f("button"),n.textContent="Se exempel",v(n,"id","ex-btn"),v(n,"class","svelte-pkclie")},m(i,r){for(let t=0;t<s.length;t+=1)s[t].m(i,r);a(i,e,r),a(i,n,r),o||(l=m(n,"click",t[9]),o=!0)},p(t,n){if(2&n){let o;for(i=t[1],o=0;o<i.length;o+=1){const l=It(t,i,o);s[o]?s[o].p(l,n):(s[o]=Jt(l),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(t){d(s,t),t&&u(e),t&&u(n),o=!1,l()}}}function Ht(e){let n,o,l,i,s,r;return{c(){n=f("div"),o=f("button"),o.textContent="Se exempel",l=p(),i=f("div"),i.textContent="text saknas",w(o,"position","absolute"),w(o,"top","113px"),v(o,"id","ex-btn"),v(o,"class","svelte-pkclie"),w(i,"margin","auto"),w(i,"padding","20px"),v(i,"class","svelte-pkclie"),v(n,"id","missing"),v(n,"class","svelte-pkclie")},m(t,u){a(t,n,u),c(n,o),c(n,l),c(n,i),s||(r=m(o,"click",e[7]),s=!0)},p:t,d(t){t&&u(n),s=!1,r()}}}function qt(t){let e,n,o,l,i,s=t[2].def,r=[];for(let e=0;e<s.length;e+=1)r[e]=Qt(Nt(t,s,e));let c=t[2].etymology&&Xt(t);return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=p(),c&&c.c(),n=p(),o=f("button"),o.textContent="Se exempel",v(o,"id","ex-btn"),v(o,"class","svelte-pkclie")},m(s,u){for(let t=0;t<r.length;t+=1)r[t].m(s,u);a(s,e,u),c&&c.m(s,u),a(s,n,u),a(s,o,u),l||(i=m(o,"click",t[6]),l=!0)},p(t,o){if(4&o){let n;for(s=t[2].def,n=0;n<s.length;n+=1){const l=Nt(t,s,n);r[n]?r[n].p(l,o):(r[n]=Qt(l),r[n].c(),r[n].m(e.parentNode,e))}for(;n<r.length;n+=1)r[n].d(1);r.length=s.length}t[2].etymology?c?c.p(t,o):(c=Xt(t),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},d(t){d(r,t),t&&u(e),c&&c.d(t),t&&u(n),t&&u(o),l=!1,i()}}}function Jt(t){let e,n,o,l,i=t[23]+"";function s(){return t[8](t[23])}return{c(){e=f("div"),n=h(i),v(e,"id","compound"),v(e,"class","svelte-pkclie")},m(t,i){a(t,e,i),c(e,n),o||(l=m(e,"click",s),o=!0)},p(e,o){t=e,2&o&&i!==(i=t[23]+"")&&b(n,i)},d(t){t&&u(e),o=!1,l()}}}function Wt(t){let e,n,o=t[20]+"";return{c(){e=f("div"),n=h(o),v(e,"id","translation"),v(e,"class","svelte-pkclie")},m(t,o){a(t,e,o),c(e,n)},p(t,e){4&e&&o!==(o=t[20]+"")&&b(n,o)},d(t){t&&u(e)}}}function At(t){let e,n,o,l=t[14].e,i=[];for(let e=0;e<l.length;e+=1)i[e]=Ft(Dt(t,l,e));return{c(){e=f("details"),n=f("summary"),n.textContent="exempel",o=p();for(let t=0;t<i.length;t+=1)i[t].c();v(n,"class","svelte-pkclie"),v(e,"class","svelte-pkclie")},m(t,l){a(t,e,l),c(e,n),c(e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,n){if(4&n){let o;for(l=t[14].e,o=0;o<l.length;o+=1){const s=Dt(t,l,o);i[o]?i[o].p(s,n):(i[o]=Ft(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(t){t&&u(e),d(i,t)}}}function Ft(t){let e,n,o,l,i,s,r,d,m=t[17].text+"",g=(t[17].english||"")+"";return{c(){e=f("span"),e.textContent="•",n=p(),o=f("div"),l=f("div"),i=h(m),s=p(),r=f("div"),d=h(g),v(e,"id","dot"),v(e,"class","svelte-pkclie"),w(r,"color","var(--main-dark)"),v(o,"id","example"),v(o,"class","svelte-pkclie")},m(t,u){a(t,e,u),a(t,n,u),a(t,o,u),c(o,l),c(l,i),c(o,s),c(o,r),c(r,d)},p(t,e){4&e&&m!==(m=t[17].text+"")&&b(i,m),4&e&&g!==(g=(t[17].english||"")+"")&&b(d,g)},d(t){t&&u(e),t&&u(n),t&&u(o)}}}function Rt(t){let e,n,o=t[14].r,l=[];for(let e=0;e<o.length;e+=1)l[e]=Wt(Ot(t,o,e));let i=t[14].e&&At(t);return{c(){e=f("div");for(let t=0;t<l.length;t+=1)l[t].c();n=p(),i&&i.c(),v(e,"id","definition"),v(e,"class","svelte-pkclie")},m(t,o){a(t,e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);c(e,n),i&&i.m(e,null)},p(t,s){if(4&s){let i;for(o=t[14].r,i=0;i<o.length;i+=1){const r=Ot(t,o,i);l[i]?l[i].p(r,s):(l[i]=Wt(r),l[i].c(),l[i].m(e,n))}for(;i<l.length;i+=1)l[i].d(1);l.length=o.length}t[14].e?i?i.p(t,s):(i=At(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&u(e),d(l,t),i&&i.d()}}}function Qt(t){let e,n,o,l,i,s=Ct.getTypeName(t[11].t)+"",r=t[11].s,m=[];for(let e=0;e<r.length;e+=1)m[e]=Rt(Tt(t,r,e));return{c(){e=f("div"),n=h(s),o=p(),l=f("hr"),i=p();for(let t=0;t<m.length;t+=1)m[t].c();v(e,"id","def-wrap"),v(e,"class","wrap svelte-pkclie")},m(t,s){a(t,e,s),c(e,n),c(e,o),c(e,l),c(e,i);for(let t=0;t<m.length;t+=1)m[t].m(e,null)},p(t,o){if(4&o&&s!==(s=Ct.getTypeName(t[11].t)+"")&&b(n,s),4&o){let n;for(r=t[11].s,n=0;n<r.length;n+=1){const l=Tt(t,r,n);m[n]?m[n].p(l,o):(m[n]=Rt(l),m[n].c(),m[n].m(e,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=r.length}},d(t){t&&u(e),d(m,t)}}}function Xt(t){let e,n,o,l,i,s=t[2].etymology+"";return{c(){e=f("details"),n=f("summary"),n.textContent="historik",o=p(),l=f("div"),i=h(s),v(n,"class","svelte-pkclie"),v(l,"id","etymology"),v(l,"class","svelte-pkclie"),v(e,"id","ety-wrap"),v(e,"class","wrap svelte-pkclie")},m(t,s){a(t,e,s),c(e,n),c(e,o),c(e,l),c(l,i)},p(t,e){4&e&&s!==(s=t[2].etymology+"")&&b(i,s)},d(t){t&&u(e)}}}function Kt(e){let n;function o(t,e){return-1!=t[0]?Bt:Mt}let l=o(e),i=l(e);return{c(){n=f("main"),i.c(),v(n,"id","main"),v(n,"class","svelte-pkclie")},m(t,e){a(t,n,e),i.m(n,null)},p(t,[e]){l===(l=o(t))&&i?i.p(t,e):(i.d(1),i=l(t),i&&(i.c(),i.m(n,null)))},i:t,o:t,d(t){t&&u(n),i.d()}}}function Ut(t,e,n){let o=-1,l=[],i=0;function s(t){ct.set(t)}function r(){window.open(`https://svenska.se/tre/?sok=${o}`,"_blank")}rt.subscribe((async t=>{if(n(0,o=t),o&&-1!=o){const t=await Ct.lookup(o);t?(n(1,l=[]),n(2,i=t)):(n(1,l=Ct.getCompound(o)),n(2,i=0))}else n(0,o=-1)}));return[o,l,i,s,r,()=>r(),()=>s(o),()=>s(o),t=>rt.set(t),()=>s(o)]}class Yt extends X{constructor(t){super(),Q(this,t,Ut,Kt,i,{})}}function Gt(t){let e,n,o;return n=new mt({props:{results:t[1]}}),{c(){e=f("div"),W(n.$$.fragment),v(e,"id","results"),v(e,"class","svelte-1c7iuhd")},m(t,l){a(t,e,l),A(n,e,null),o=!0},p(t,e){const o={};2&e&&(o.results=t[1]),n.$set(o)},i(t){o||(q(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&u(e),F(n)}}}function Vt(e){let n;return{c(){n=f("div")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Zt(e){let n;return{c(){n=f("div"),n.innerHTML='<div class="svelte-1c7iuhd">Du har inte sparat något!</div>',v(n,"id","missing"),v(n,"class","svelte-1c7iuhd")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function te(t){let e,n,o,l,i,s;const r=[Zt,Vt,Gt],d=[];function h(t,e){return!t[1].length&&t[0]?0:t[0]?2:1}return l=h(t),i=d[l]=r[l](t),{c(){e=f("main"),n=f("div"),o=p(),i.c(),v(n,"id","header"),v(n,"class","svelte-1c7iuhd"),v(e,"class","svelte-1c7iuhd")},m(t,i){a(t,e,i),c(e,n),c(e,o),d[l].m(e,null),s=!0},p(t,[n]){let o=l;l=h(t),l===o?d[l].p(t,n):(z(),J(d[o],1,1,(()=>{d[o]=null})),H(),i=d[l],i?i.p(t,n):(i=d[l]=r[l](t),i.c()),q(i,1),i.m(e,null))},i(t){s||(q(i),s=!0)},o(t){J(i),s=!1},d(t){t&&u(e),d[l].d()}}}function ee(t,e,n){let{onactive:o}=e,l=0,i=[];return o.callback=()=>{n(1,i=[]);const t=window.localStorage.getItem("pinned-id");if(t){t.split(",").forEach((t=>{const e=window.localStorage.getItem(t);e||console.error("Issue reading saved sentences!"),i.push(JSON.parse(e))})),n(1,i)}n(0,l=1)},x((()=>{o.callback()})),t.$$set=t=>{"onactive"in t&&n(2,o=t.onactive)},[l,i,o]}class ne extends X{constructor(t){super(),Q(this,t,ee,te,i,{onactive:2})}}function oe(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function le(t){let e,n,o,l,i,s,r,g=t[1].word+"",w=t[1].alternatives,$=[];for(let e=0;e<w.length;e+=1)$[e]=se(oe(t,w,e));return{c(){e=f("div"),n=f("div"),o=h(g),l=p(),i=f("div");for(let t=0;t<$.length;t+=1)$[t].c();v(n,"id","word"),v(n,"class","svelte-1jvvl0s"),v(i,"id","alts"),v(i,"class","svelte-1jvvl0s"),v(e,"id","question"),v(e,"class","svelte-1jvvl0s")},m(u,d){a(u,e,d),c(e,n),c(n,o),c(e,l),c(e,i);for(let t=0;t<$.length;t+=1)$[t].m(i,null);s||(r=m(n,"click",t[7]),s=!0)},p(t,e){if(2&e&&g!==(g=t[1].word+"")&&b(o,g),46&e){let n;for(w=t[1].alternatives,n=0;n<w.length;n+=1){const o=oe(t,w,n);$[n]?$[n].p(o,e):($[n]=se(o),$[n].c(),$[n].m(i,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=w.length}},d(t){t&&u(e),d($,t),s=!1,r()}}}function ie(e){let n;return{c(){n=f("div")},m(t,e){a(t,n,e)},p:t,d(t){t&&u(n)}}}function se(t){let e,n,o,l,i,s,d,g,w,$,y,k=t[9]+"";function x(){return t[8](t[11])}return{c(){e=f("div"),n=f("button"),o=h(k),i=p(),s=f("span"),s.textContent="done",d=p(),g=f("span"),g.textContent="close",w=p(),v(n,"class",l=r((t[2]&&t[11]==t[3][0]?"right":"")+(t[2]&&t[11]==t[3][1]?"wrong":""))+" svelte-1jvvl0s"),v(s,"id","checkmark"),v(s,"class","material-symbols-outlined svelte-1jvvl0s"),v(g,"id","errormark"),v(g,"class","material-symbols-outlined svelte-1jvvl0s"),v(e,"class","svelte-1jvvl0s")},m(t,l){a(t,e,l),c(e,n),c(n,o),c(e,i),c(e,s),c(e,d),c(e,g),c(e,w),$||(y=m(n,"click",x),$=!0)},p(e,i){t=e,2&i&&k!==(k=t[9]+"")&&b(o,k),12&i&&l!==(l=r((t[2]&&t[11]==t[3][0]?"right":"")+(t[2]&&t[11]==t[3][1]?"wrong":""))+" svelte-1jvvl0s")&&v(n,"class",l)},d(t){t&&u(e),$=!1,y()}}}function re(e){let n,o,l,i,s;function r(t,e){return t[0]&&0!=t[1]?le:ie}let d=r(e),h=d(e);return{c(){n=f("main"),o=f("form"),o.innerHTML='<div id="form-wrap"><div id="input-wrap"><button type="submit" style="margin: 0 20px 0 0px;" class="svelte-1jvvl0s">ny fråga</button></div></div>',l=p(),h.c(),v(o,"id","form"),v(o,"autocomplete","off"),v(o,"class","svelte-1jvvl0s"),v(n,"class","svelte-1jvvl0s")},m(t,r){a(t,n,r),c(n,o),c(n,l),h.m(n,null),i||(s=m(o,"submit",g(e[6])),i=!0)},p(t,[e]){d===(d=r(t))&&h?h.p(t,e):(h.d(1),h=d(t),h&&(h.c(),h.m(n,null)))},i:t,o:t,d(t){t&&u(n),h.d(),i=!1,s()}}}function ce(t,e,n){let o=0,l=0,i=0,s=[-1,-1];function r(){n(2,i=0),n(3,s=[-1,-1]),n(1,l=Ct.getQuestion()),l||n(1,l=0),n(0,o=1)}function c(t){i?rt.set(l.alternatives[t]):(t==l.correct?n(3,s=[l.correct,-1]):n(3,s=[l.correct,t]),rt.set(l.word),n(2,i=1))}x((()=>{r()}));return[o,l,i,s,r,c,()=>{r()},()=>{i&&rt.set(l.word)},t=>c(t)]}class ae extends X{constructor(t){super(),Q(this,t,ce,re,i,{})}}function ue(t){let e,n,o;return n=new mt({props:{results:t[1]}}),{c(){e=f("div"),W(n.$$.fragment),v(e,"id","results"),v(e,"class","svelte-182v9fe")},m(t,l){a(t,e,l),A(n,e,null),o=!0},p(t,e){const o={};2&e&&(o.results=t[1]),n.$set(o)},i(t){o||(q(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&u(e),F(n)}}}function de(e){let n;return{c(){n=f("div"),n.innerHTML='<img src="svg/glass.svg" width="150px" id="mag-glass" class="svelte-182v9fe"/>',v(n,"id","glass-wrap"),v(n,"class","svelte-182v9fe")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function fe(t){let e,n,o,l,i,s,r,d,b,$,y,k,x,_,S,L;$=new $t({});const P=[de,ue],j=[];function E(t,e){return t[1].length?1:0}return k=E(t),x=j[k]=P[k](t),{c(){e=f("main"),n=f("form"),o=f("div"),l=f("div"),i=f("button"),s=h("ta slumpmässigt"),d=p(),b=f("div"),W($.$$.fragment),y=p(),x.c(),v(i,"class",r=t[0]?"disabled":""),v(i,"type","submit"),w(i,"margin","0 20px 0 0px"),v(l,"id","input-wrap"),v(l,"class","svelte-182v9fe"),v(b,"id","container"),v(b,"class","svelte-182v9fe"),v(o,"id","form-wrap"),v(n,"id","form"),v(n,"autocomplete","off"),v(e,"class","svelte-182v9fe")},m(r,u){a(r,e,u),c(e,n),c(n,o),c(o,l),c(l,i),c(i,s),c(o,d),c(o,b),A($,b,null),c(e,y),j[k].m(e,null),_=!0,S||(L=m(n,"submit",g(t[3])),S=!0)},p(t,[n]){(!_||1&n&&r!==(r=t[0]?"disabled":""))&&v(i,"class",r);let o=k;k=E(t),k===o?j[k].p(t,n):(z(),J(j[o],1,1,(()=>{j[o]=null})),H(),x=j[k],x?x.p(t,n):(x=j[k]=P[k](t),x.c()),q(x,1),x.m(e,null))},i(t){_||(q($.$$.fragment,t),q(x),_=!0)},o(t){J($.$$.fragment,t),J(x),_=!1},d(t){t&&u(e),F($),j[k].d(),S=!1,L()}}}function he(t,e,n){let o=-1;ut.subscribe((t=>{o=t}));let l=1,i=[];async function s(){n(0,l=1),n(1,i=[]);const t=await fetch("https://data.mongodb-api.com/app/searchapi-pcnyg/endpoint/random",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({corpus:o})}).then((t=>t.json()));i.length||(n(1,i=t),n(0,l=0))}x((()=>{s()}));return[l,i,s,()=>{1!=l&&s()}]}class pe extends X{constructor(t){super(),Q(this,t,he,fe,i,{})}}function me(t){let e,n,o,l;var i=t[1];function s(t){return{props:{onactive:t[3]}}}return i&&(n=new i(s(t))),{c(){e=f("main"),n&&W(n.$$.fragment),v(e,"class",o=r("#"+t[0]!=t[2]?"hidden":"")+" svelte-1nld27k")},m(t,o){a(t,e,o),n&&A(n,e,null),l=!0},p(t,[c]){if(i!==(i=t[1])){if(n){z();const t=n;J(t.$$.fragment,1,0,(()=>{F(t,1)})),H()}i?(n=new i(s(t)),W(n.$$.fragment),q(n.$$.fragment,1),A(n,e,null)):n=null}(!l||5&c&&o!==(o=r("#"+t[0]!=t[2]?"hidden":"")+" svelte-1nld27k"))&&v(e,"class",o)},i(t){l||(n&&q(n.$$.fragment,t),l=!0)},o(t){n&&J(n.$$.fragment,t),l=!1},d(t){t&&u(e),n&&F(n)}}}function ge(t,e,n){let{path:o,component:l}=e,i={callback:()=>{}},s="";return G.currentPath.subscribe((t=>{n(2,s=t),"#"+o==s&&i.callback()})),t.$$set=t=>{"path"in t&&n(0,o=t.path),"component"in t&&n(1,l=t.component)},[o,l,s,i]}class ve extends X{constructor(t){super(),Q(this,t,ge,me,i,{path:0,component:1})}}function be(t){let e,n,o,l;const i=t[3].default,r=function(t,e,n,o){if(t){const l=s(t,e,n,o);return t[0](l)}}(i,t,t[2],null);return{c(){e=f("main"),r&&r.c(),v(e,"class","svelte-hu0xay")},m(i,s){a(i,e,s),r&&r.m(e,null),n=!0,o||(l=m(e,"mousedown",t[0]),o=!0)},p(t,[e]){r&&r.p&&(!n||4&e)&&function(t,e,n,o,l,i){if(l){const r=s(e,n,o,i);t.p(r,l)}}(r,i,t,t[2],n?function(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}(i,t[2],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[2]),null)},i(t){n||(q(r,t),n=!0)},o(t){J(r,t),n=!1},d(t){t&&u(e),r&&r.d(t),o=!1,l()}}}function we(t,e,n){let{$$slots:o={},$$scope:l}=e,{to:i}=e;return t.$$set=t=>{"to"in t&&n(1,i=t.to),"$$scope"in t&&n(2,l=t.$$scope)},[function(){G.goto(i)},i,l,o]}class $e extends X{constructor(t){super(),Q(this,t,we,be,i,{to:1})}}function ye(t,e,n){const o=t.slice();return o[12]=e[n],o}function ke(e){let n,o,l=e[12][1]+"";return{c(){n=f("span"),o=h(l),v(n,"class","logo material-symbols-outlined svelte-1oa13ib")},m(t,e){a(t,n,e),c(n,o)},p:t,d(t){t&&u(n)}}}function xe(t){let e,n,o,l;return n=new $e({props:{to:t[12][0],$$slots:{default:[ke]},$$scope:{ctx:t}}}),{c(){e=f("div"),W(n.$$.fragment),v(e,"id","link"),v(e,"class",o=r(t[0]=="#"+t[12][0]?"active":"")+" svelte-1oa13ib")},m(t,o){a(t,e,o),A(n,e,null),l=!0},p(t,i){const s={};32768&i&&(s.$$scope={dirty:i,ctx:t}),n.$set(s),(!l||1&i&&o!==(o=r(t[0]=="#"+t[12][0]?"active":"")+" svelte-1oa13ib"))&&v(e,"class",o)},i(t){l||(q(n.$$.fragment,t),l=!0)},o(t){J(n.$$.fragment,t),l=!1},d(t){t&&u(e),F(n)}}}function _e(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Se(t){let e,n,o,l,i,s,r,d,h,g,b,$,y,k,x,_,S,L;return n=new ve({props:{path:"",component:Et}}),l=new ve({props:{path:"search",component:Pt}}),s=new ve({props:{path:"saved",component:ne}}),d=new ve({props:{path:"quiz",component:pe}}),g=new ve({props:{path:"synonym",component:ae}}),x=new Yt({}),{c(){e=f("div"),W(n.$$.fragment),o=p(),W(l.$$.fragment),i=p(),W(s.$$.fragment),r=p(),W(d.$$.fragment),h=p(),W(g.$$.fragment),b=p(),$=f("div"),y=p(),k=f("div"),W(x.$$.fragment),w(e,"width",t[1]+"%"),v($,"id","pane-divider"),v($,"class","svelte-1oa13ib"),w(k,"flex","1")},m(u,f){a(u,e,f),A(n,e,null),c(e,o),A(l,e,null),c(e,i),A(s,e,null),c(e,r),A(d,e,null),c(e,h),A(g,e,null),a(u,b,f),a(u,$,f),a(u,y,f),a(u,k,f),A(x,k,null),_=!0,S||(L=m($,"mousedown",t[4]),S=!0)},p(t,n){(!_||2&n)&&w(e,"width",t[1]+"%")},i(t){_||(q(n.$$.fragment,t),q(l.$$.fragment,t),q(s.$$.fragment,t),q(d.$$.fragment,t),q(g.$$.fragment,t),q(x.$$.fragment,t),_=!0)},o(t){J(n.$$.fragment,t),J(l.$$.fragment,t),J(s.$$.fragment,t),J(d.$$.fragment,t),J(g.$$.fragment,t),J(x.$$.fragment,t),_=!1},d(t){t&&u(e),F(n),F(l),F(s),F(d),F(g),t&&u(b),t&&u($),t&&u(y),t&&u(k),F(x),S=!1,L()}}}function Le(e){let n;return{c(){n=f("div"),n.innerHTML='<div class="svelte-1oa13ib">laddar...</div>',v(n,"id","missing"),v(n,"class","svelte-1oa13ib")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function Pe(t){let e,n,o,l,i,s,r,h,m,g=t[2],b=[];for(let e=0;e<g.length;e+=1)b[e]=xe(ye(t,g,e));const w=t=>J(b[t],1,1,(()=>{b[t]=null}));let $={ctx:t,current:null,token:null,hasCatch:!1,pending:Le,then:Se,catch:_e,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,l,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==l&&(s=s.slice(),s[l]=i);const r=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(z(),J(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),H())})):e.block.d(1),r.c(),q(r,1),r.m(e.mount(),e.anchor),c=!0),e.block=r,e.blocks&&(e.blocks[o]=r),c&&D()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=k();if(t.then((t=>{y(n),o(e.then,1,e.value,t),y(null)}),(t=>{if(y(n),o(e.catch,2,e.error,t),y(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var l}(t[3],$),{c(){e=f("div"),n=f("div"),o=f("div"),l=p();for(let t=0;t<b.length;t+=1)b[t].c();i=p(),s=f("div"),r=p(),h=f("main"),$.block.c(),v(o,"id","top"),v(o,"class","svelte-1oa13ib"),v(s,"id","bottom"),v(s,"class","svelte-1oa13ib"),v(n,"id","sidebar"),v(n,"class","svelte-1oa13ib"),v(h,"id","main"),v(h,"class","svelte-1oa13ib"),v(e,"id","body"),v(e,"class","svelte-1oa13ib")},m(t,u){a(t,e,u),c(e,n),c(n,o),c(n,l);for(let t=0;t<b.length;t+=1)b[t].m(n,null);c(n,i),c(n,s),c(e,r),c(e,h),$.block.m(h,$.anchor=null),$.mount=()=>h,$.anchor=null,m=!0},p(e,[o]){if(t=e,5&o){let e;for(g=t[2],e=0;e<g.length;e+=1){const l=ye(t,g,e);b[e]?(b[e].p(l,o),q(b[e],1)):(b[e]=xe(l),b[e].c(),q(b[e],1),b[e].m(n,i))}for(z(),e=g.length;e<b.length;e+=1)w(e);H()}!function(t,e,n){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,n)}($,t,o)},i(t){if(!m){for(let t=0;t<g.length;t+=1)q(b[t]);q($.block),m=!0}},o(t){b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)J(b[t]);for(let t=0;t<3;t+=1){J($.blocks[t])}m=!1},d(t){t&&u(e),d(b,t),$.block.d(),$.token=null,$=null}}}function je(t,e,n){window.indexedDB||alert("Your browser doesn't support a stable version of IndexedDB!");let o="";G.currentPath.subscribe((t=>{n(0,o=t)}));let l,i,s,r=Ct.init(),c=0,a=60,u=0;const d=function(t){l.style.cursor="col-resize",document.body.style.cursor="col-resize";const e=t.clientX-c,o=Math.max(10,Math.min(90,100*(u+e)/l.parentNode.getBoundingClientRect().width));n(1,a=o),i.style.userSelect="none",i.style.pointerEvents="none",s.style.userSelect="none",s.style.pointerEvents="none"},f=function(){l.style.removeProperty("cursor"),document.body.style.removeProperty("cursor"),i.style.removeProperty("user-select"),i.style.removeProperty("pointer-events"),s.style.removeProperty("user-select"),s.style.removeProperty("pointer-events"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)};return x((()=>{G.init();const t=G.getParams();null==t.corpus||isNaN(Number(t.corpus))||ut.set(Number(t.corpus))})),[o,a,[["","home"],["search","manage_search"],["saved","folder_open"],["reader","subject"],["quiz","quiz"],["synonym","drive_file_rename_outline"]],r,function(t){l=t.target,i=l.previousElementSibling,s=l.nextElementSibling,c=t.clientX,u=i.getBoundingClientRect().width,document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)}]}return new class extends X{constructor(t){super(),Q(this,t,je,Pe,i,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
